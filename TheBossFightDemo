using System;

namespace TheBossFight
{
    class Program
    {
        static void Main(string[] args)
        {
            Random random = new Random();
            string namePlayer = "";
            float playerHealth = 10000f;
            float playerDamage = 500f;
            float highestSpellDamage = 0f;
            float highSpellDamage = 0f;
            float lowestSpellDamage = 0f;
            float lowSpellDamage = 0f;
            float ultraSpellDamage = 0f;
            float lowestSpellMana = 50f;
            float highestSpellMana = 500f;
            float highSpellMana = 350f;
            float lowSpellMana = 100f;
            float ultraSpellMana = 4000f;
            float healthUpdate = playerHealth;
            float damageUpdate = playerDamage;
            float playerShield = 5000f;
            float shieldUpdate = playerShield;
            float playerMana = 5000f;
            float manaUpdate = playerMana;
            float manaRecovery = 0.05f;
            float randomDamage = 0f;
            float ratioHighestSpell = 1.9f;
            float ratioLowSpell = 0.9f;
            float ratioHighSpell = 1.25f;
            float ratioLowestSpell = 0.7f;
            float ratioUltra = 12f;
            float ratioMixedSpell = 6f;
            float ratioMixedMana = 15f;
            float ratioRecoverySkill = 0.4f;
            bool mixElementComboOn = false;
            bool mixElementComboOff = false;
            bool ultraComboOn = false;
            bool ultraComboOff = false;
            string playerCast;
            bool difficultSelected = false;
            int rateCriticalMiss = 0;
            float factorCritical = 1f;
            float criticalDamage = 1.5f;
            float missDamage = 0f;
            float criticalUpdate = 1f;
            int cureValue = 0;
            int potionValue = 0;
            int essentionValue = 0;
            bool canAttack = true;
            float bossHealth = 20000f;
            float bossDamage = 1000f;
            float magicShield = 10000f;
            float physicalShield = 10000f;
            float bossDamageUpdate = bossDamage;
            bool bossSkillFireEnabled = false;
            bool bossSkillSnakesEnabled = false;
            float bossMana = 5000f;
            float bossSkillMana = 500f;
            float randomBossSkill = 0f;
            string nameBoss = "";
            string difficult = "";

            Console.WriteLine("Ваши заклинания и команды:\n\n");
            Console.WriteLine("увернуться \nвыпить лекарство \nвыпить зелье \nвдохнуть эссенцию " +
                            " \nядолужиум - создать ядовитую лужу. Высокий физический урон. Затраты маны: " + highSpellMana + "" +
                            " \nогний - бросить огненный шар. Низкий магический урон. Затраты маны: " + lowSpellMana);
            Console.WriteLine("кобриум - призвать ядовитую змею. Высший физический урон. Затраты маны: " + highestSpellMana);
            Console.WriteLine("лупий - призвать магическую лупу. Низший магический урон. Затраты маны: " + lowestSpellMana);
            Console.WriteLine("поджечь ядовитую лужу магической лупой. Высочайший магический урон, дополнительный урон в физическую броню. Затраты маны:  " + lowestSpellMana + lowestSpellMana * ratioMixedMana);
            Console.WriteLine("манум - сильная прибавка к мане. Значительно уменьшает количество твоего здоровья (-" + healthUpdate * ratioRecoverySkill + ")");
            Console.WriteLine("огний + дэдливайперсмерчиум - призвать дух смертельной гадюки. Ультра урон. Затраты маны:  " + ultraSpellMana);
            
            while (namePlayer == "")
            {
                Console.WriteLine("\n\nКак тебя звать?");
                namePlayer = Console.ReadLine();
                Console.Clear();
            }

            while (nameBoss == "")
            {
                Console.WriteLine("\n\nКак зовут твоего врага?");
                nameBoss = Console.ReadLine();
                Console.Clear();
            }

            Console.WriteLine("\n\nВыбери сложность: \n\t\t 1 - легко (много зелий)\n\t\t 2 - средне (немного зелий) \n\t\t 3 - сложно (мало зелий) \n\t\t 4 - хардкор (нет зелий)");

            while (difficultSelected == false)
            {
                difficult = Console.ReadLine();

                switch (difficult)
                {
                    case "1":
                        cureValue = 5;
                        potionValue = 5;
                        essentionValue = 5;
                        difficultSelected = true;
                        break;
                    case "2":
                        cureValue = 3;
                        potionValue = 3;
                        essentionValue = 3;
                        difficultSelected = true;
                        break;
                    case "3":
                        cureValue = 1;
                        potionValue = 1;
                        essentionValue = 1;
                        difficultSelected = true;
                        break;
                    case "4":
                        cureValue = 0;
                        potionValue = 0;
                        essentionValue = 0;
                        difficultSelected = true;
                        break;
                }
            }

            Console.Clear();
            Console.WriteLine("\n\t " + namePlayer + ", если во время схватки с врагом ты забудешь как действовать, то вместо заклинания произнеси \"подсказка\"!");
            Console.ForegroundColor = ConsoleColor.Green;
            Console.WriteLine("\n\n\n}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{");
            Console.WriteLine("\n\tВедьма " + namePlayer + ", " + playerHealth + " очков здоровья, " + playerMana + " маны, " + playerShield + " божественной брони.\n Лекарства : "
                + cureValue + " шт. Зелья: " + potionValue + " шт. Эссенции: " + essentionValue + " шт.");
            Console.WriteLine("}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{");
            Console.ResetColor();
            Console.ForegroundColor = ConsoleColor.DarkMagenta;
            Console.WriteLine("\n\n\n#########################################################################################################");
            Console.WriteLine("\nНовая схватка с " + nameBoss + " с " + bossHealth + " здоровья. " + magicShield + " магической брони. " + physicalShield + " физической брони.");
            Console.ResetColor();

            for (int i = 0; bossHealth >= 1 || playerHealth >= 1; i++)
                {
                    if (playerMana < manaUpdate && canAttack == true && bossSkillFireEnabled == false)
                    {
                        playerMana += manaUpdate * manaRecovery;

                        if (playerMana > manaUpdate)
                        {
                            playerMana = manaUpdate;
                        }

                        Console.ForegroundColor = ConsoleColor.Blue;
                        Console.WriteLine("\n\n\nмана восстанавливается на " + manaUpdate * manaRecovery);
                        Console.ResetColor();
                    }

                    bossSkillFireEnabled = false;

                    if (mixElementComboOff == true || ultraComboOff == true)
                    {
                        mixElementComboOn = false;
                        mixElementComboOff = false;
                        ultraComboOn = false;
                        ultraComboOff = false;
                    }

                    canAttack = true;
                    factorCritical = criticalUpdate;
                    playerDamage = damageUpdate;
                    bossDamage = bossDamageUpdate;
                    bossHealth = Convert.ToInt32(bossHealth);
                    magicShield = Convert.ToInt32(magicShield);
                    physicalShield = Convert.ToInt32(physicalShield);
                    magicShield = Convert.ToInt32(magicShield);
                    playerShield = Convert.ToInt32(playerShield);
                    highestSpellMana = Convert.ToInt32(highestSpellMana);
                    highSpellMana = Convert.ToInt32(highSpellMana);
                    lowestSpellMana = Convert.ToInt32(lowestSpellMana);
                    lowSpellMana = Convert.ToInt32(lowSpellMana);

                    Console.ForegroundColor = ConsoleColor.Blue;
                    Console.WriteLine("\n####АТАКА#" + (i + 1) + "##############################################################################################");
                    Console.WriteLine("\n " + namePlayer + ": " + playerHealth + "/" + healthUpdate + " очков здоровья, " + playerMana + "/" + manaUpdate + " маны, " + playerShield + "/" + shieldUpdate + " Божественной брони." +
                        "\nКаждый ход мана восстанавливается на " + manaUpdate * manaRecovery +
                        "\nЛекарства : "
                        + cureValue + " шт. Зелья: " + potionValue + " шт. Эссенции: " + essentionValue + " шт. \n" + nameBoss + ": " + bossHealth + " здоровья. " + magicShield + " магической брони. " + physicalShield + " физической брони." + bossMana + " маны.");
                    Console.ResetColor();
                    Console.WriteLine("____________________________________________________________________________");
                    Console.WriteLine("\n\t\tВы атакуете , произнесите заклинание!");
                    Console.Write("\t");

                    Console.ForegroundColor = ConsoleColor.DarkGray;
                    playerCast = Console.ReadLine();
                    Console.ResetColor();
                    rateCriticalMiss = random.Next(0, 11);

                    if (rateCriticalMiss < 1 && (playerCast != "подсказка" || playerCast != "выпить лекарство" || playerCast != "выпить зелье" || playerCast != "вдохнуть эссенцию") && bossSkillSnakesEnabled == false)
                    {
                        factorCritical = criticalDamage;
                        Console.ForegroundColor = ConsoleColor.Cyan;
                        Console.WriteLine("\tВы слышите Божественный голос внутри головы, преисполняетесь боевым духом и наносите критический удар!");
                        Console.ResetColor();
                    }
                    else if (rateCriticalMiss > 9 && (playerCast != "подсказка" || playerCast != "выпить лекарство" || playerCast != "выпить зелье" || playerCast != "вдохнуть эссенцию") && bossSkillSnakesEnabled == false)
                    {
                        factorCritical = missDamage;
                        Console.ForegroundColor = ConsoleColor.DarkRed;
                        Console.WriteLine("\tВы слышите зловещий шёпот внутри головы, во время произношения заклинания рот становится ватным, и вы промахиваетесь мимо врага!");
                        Console.ResetColor();
                    }

                    if (bossSkillSnakesEnabled)
                    {
                        bossSkillSnakesEnabled = false;
                        Console.ForegroundColor = ConsoleColor.DarkRed;
                        Console.WriteLine("Змеи, которых призвал " + nameBoss + ", обхватили вас своей мертвой хваткой, вы не можете ни вдохнуть , ни произнести заклинание!");
                        Console.ResetColor();
                    }
                    else
                    {

                        switch (playerCast)
                        {
                            case "увернуться":
                                ultraComboOn = false;
                                mixElementComboOn = false;
                                Console.ForegroundColor = ConsoleColor.DarkGray;
                                Console.WriteLine("\nВы пытаетесь увернуться от атаки");
                                Console.ResetColor();
                                break;
                            case "кобриум":
                                ultraComboOn = false;
                                mixElementComboOn = false;
                                randomDamage = random.Next(8, 13) / 10f;
                                highestSpellDamage = playerDamage * ratioHighestSpell * factorCritical * randomDamage;
                                highestSpellDamage = Convert.ToInt32(highestSpellDamage);

                                if (playerMana >= highestSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkGreen;
                                    Console.WriteLine("\nВедьма поднимает руки вверх и между ними появляется зеленый светящийся шар, из которого на врага бросается большая" +
                                                " зеленая ядовитая змея!");
                                    Console.ResetColor();

                                    playerMana -= highestSpellMana;

                                    if (physicalShield >= 1)
                                    {
                                        physicalShield -= highestSpellDamage;

                                        if (physicalShield < 1)
                                        {
                                            bossHealth += physicalShield;
                                            physicalShield = 0;

                                            if (bossHealth < 1)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Green;
                                                Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья, физической брони " +
                                                "больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона по физической броне. У врага осталось еще " + physicalShield + " физической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (physicalShield < 1 && bossHealth >= 1)
                                    {
                                        bossHealth -= highestSpellDamage;

                                        if (bossHealth < 1)
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGreen;
                                            Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGreen;
                                            Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < highestSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nВЫ ПРОИЗНОСИТЕ ЧУШЬ И НЕ НАНОСИТЕ УРОНА!");
                                    Console.ResetColor();
                                }

                                break;
                            case "огний":
                                ultraComboOn = true;
                                mixElementComboOn = false;
                                randomDamage = random.Next(8, 13) / 10f;
                                lowSpellDamage = playerDamage * ratioLowSpell * factorCritical * randomDamage;
                                lowSpellDamage = Convert.ToInt32(lowSpellDamage);

                                if (playerMana >= lowSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkYellow;
                                    Console.WriteLine("\nВедьма складывает руки ладонями перед собой и между ними появляется магический огненный шар, который она швыряет во врага и поджигает его!");
                                    Console.ResetColor();

                                    playerMana -= lowSpellMana;

                                    if (magicShield >= 1)
                                    {
                                        magicShield -= lowSpellDamage;

                                        if (magicShield < 1)
                                        {
                                            bossHealth += magicShield;
                                            magicShield = 0;

                                            if (bossHealth < 1)
                                            {
                                                Console.ForegroundColor = ConsoleColor.DarkYellow;
                                                Console.WriteLine("\nВы наносите " + lowSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + lowSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья, магической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + lowSpellDamage + " урона по магической броне. У врага осталось еще " + magicShield + " магической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (magicShield < 1 && bossHealth >= 1)
                                    {
                                        bossHealth -= lowSpellDamage;

                                        if (bossHealth < 1)
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkYellow;
                                            Console.WriteLine("\nВы наносите " + lowSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkYellow;
                                            Console.WriteLine("\nвы наносите " + lowSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < lowSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nВЫ ПРОИЗНОСИТЕ ЧУШЬ И НЕ НАНОСИТЕ УРОНА!");
                                    Console.ResetColor();
                                }

                                break;
                            case "ядолужиум":
                                ultraComboOn = false;
                                mixElementComboOn = true;
                                randomDamage = random.Next(8, 13) / 10f;
                                highSpellDamage = playerDamage * ratioHighSpell * factorCritical * randomDamage;
                                highSpellDamage = Convert.ToInt32(highSpellDamage);

                                if (playerMana >= highSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.Green;
                                    Console.WriteLine("\nВедьма поднимает руки вверх и между ними появляется зеленый светящийся шар, он устремляется под врага " +
                                        "и образует булькающую отравляющую лужу");
                                    Console.ResetColor();

                                    playerMana -= highSpellMana;

                                    if (physicalShield >= 1)
                                    {
                                        physicalShield -= highSpellDamage;

                                        if (physicalShield < 1)
                                        {
                                            bossHealth += physicalShield;
                                            physicalShield = 0;

                                            if (bossHealth < 1)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Green;
                                                Console.WriteLine("\nВы наносите " + highSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + highSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья, физической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + highSpellDamage + " урона по физической броне. У врага осталось еще " + physicalShield + " физической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (physicalShield < 1 && bossHealth >= 1)
                                    {
                                        bossHealth -= highSpellDamage;

                                        if (bossHealth < 1)
                                        {
                                            Console.ForegroundColor = ConsoleColor.Green;
                                            Console.WriteLine("\nВы наносите " + highSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.Green;
                                            Console.WriteLine("\nВы наносите " + highSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < highSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nВЫ ПРОИЗНОСИТЕ ЧУШЬ И НЕ НАНОСИТЕ УРОНА!");
                                    Console.ResetColor();
                                }

                                break;
                            case "лупий":
                                ultraComboOn = false;
                                randomDamage = random.Next(8, 13) / 10f;
                                lowestSpellDamage = playerDamage * ratioLowestSpell * factorCritical * randomDamage;
                                lowestSpellDamage = Convert.ToInt32(lowestSpellDamage);

                                if (playerMana >= lowestSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.Yellow;
                                    Console.WriteLine("\nВедьма складывает руки ладонями перед собой, пока шепчет заклинание. Пространство над ней начинает искриться и возникает гигантское круглое стекло," +
                                        "которое с помощью лучей солнца поджигает врага!");
                                    Console.ResetColor();

                                    if (mixElementComboOn == true)
                                    {
                                        lowestSpellDamage *= ratioMixedSpell;
                                        lowestSpellMana *= ratioMixedMana;
                                        lowestSpellDamage = Convert.ToInt32(lowestSpellDamage);
                                        lowestSpellMana = Convert.ToInt32(lowestSpellMana);

                                        if (playerMana < lowestSpellMana)
                                        {
                                            lowestSpellMana /= ratioMixedMana;
                                            Console.ForegroundColor = ConsoleColor.DarkRed;
                                            Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА МИКСОВАННОЕ ЗАКЛИНАНИЕ!");
                                            Console.ResetColor();
                                            break;
                                        }

                                        playerMana -= lowestSpellMana;
                                        lowestSpellMana /= ratioMixedMana;

                                        Console.BackgroundColor = ConsoleColor.DarkGreen;
                                        Console.ForegroundColor = ConsoleColor.DarkYellow;
                                        Console.WriteLine("Лучи солнца, проходящие через гигантское стекло, поджигают еще оставшуюся ядовитую лужу, происходит мощный взрыв!");
                                        Console.BackgroundColor = ConsoleColor.DarkRed;
                                        Console.WriteLine("");
                                        Console.BackgroundColor = ConsoleColor.DarkYellow;
                                        Console.WriteLine("");
                                        Console.BackgroundColor = ConsoleColor.DarkRed;
                                        Console.WriteLine("");
                                        Console.ResetColor();

                                        physicalShield -= lowestSpellDamage;

                                        Console.ForegroundColor = ConsoleColor.DarkGray;
                                        Console.WriteLine("\nВы наносите дополнительный " + lowestSpellDamage + " урон в физическую броню!");
                                        Console.ResetColor();

                                        if (physicalShield < 1)
                                        {
                                            physicalShield = 0;
                                        }

                                        mixElementComboOff = true;
                                    }

                                    playerMana -= lowestSpellMana;
                                    lowestSpellMana /= ratioMixedMana;

                                    if (magicShield >= 1)
                                    {
                                        magicShield -= lowestSpellDamage;

                                        if (magicShield < 1)
                                        {
                                            bossHealth += magicShield;
                                            magicShield = 0;

                                            if (bossHealth < 1)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Yellow;
                                                Console.WriteLine("\nВы наносите " + lowestSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + lowestSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья, магической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + lowestSpellDamage + " урона по магической броне. У врага осталось еще " + magicShield + " магической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (magicShield < 1 && bossHealth >= 1)
                                    {
                                        bossHealth -= lowestSpellDamage;

                                        if (bossHealth < 1)
                                        {
                                            Console.ForegroundColor = ConsoleColor.Yellow;
                                            Console.WriteLine("\nВы наносите " + lowestSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else 
                                        {
                                            Console.ForegroundColor = ConsoleColor.Yellow;
                                            Console.WriteLine("\nвы наносите " + lowestSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < lowestSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nВЫ ПРОИЗНОСИТЕ ЧУШЬ И НЕ НАНОСИТЕ УРОНА!");
                                    Console.ResetColor();
                                }

                                break;
                            case "дэдливайперсмерчиум":
                                mixElementComboOn = false;

                                if (ultraComboOn == true && playerMana >= ultraSpellMana)
                                {
                                    playerMana -= ultraSpellMana;
                                    randomDamage = random.Next(8, 13) / 10f;
                                    ultraSpellDamage = playerDamage * ratioUltra * factorCritical * randomDamage;
                                    ultraSpellDamage = Convert.ToInt32(ultraSpellDamage);

                                    Console.BackgroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("");
                                    Console.ForegroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("");
                                    Console.BackgroundColor = ConsoleColor.DarkYellow;
                                    Console.WriteLine("После яростного крика ведьмы, начинает дуть сильнейший ветер. Над врагом появляется исполинского размера дух гадюки " +
                                        "фиолетового цвета. Дотлевающие угольки Огния вспыхивают в мощном огненном смерче!");
                                    Console.BackgroundColor = ConsoleColor.Green;
                                    Console.WriteLine("");
                                    Console.BackgroundColor = ConsoleColor.DarkYellow;
                                    Console.WriteLine("");
                                    Console.BackgroundColor = ConsoleColor.Green;
                                    Console.WriteLine("");
                                    Console.ResetColor();

                                    if (magicShield >= 1)
                                    {
                                        magicShield -= ultraSpellDamage;

                                        if (magicShield < 1)
                                        {
                                            bossHealth += magicShield;
                                            magicShield = 0;

                                            if (bossHealth < 1)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Magenta;
                                                Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона в магическую броню. У врага осталось " + bossHealth + " здоровья, магической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона по магической броне. У врага осталось еще " + magicShield + " магической брони");
                                            Console.ResetColor();
                                        }
                                    }

                                    if (physicalShield >= 1)
                                    {
                                        physicalShield -= ultraSpellDamage;

                                        if (physicalShield < 1)
                                        {
                                            bossHealth += physicalShield;
                                            physicalShield = 0;

                                            if (bossHealth < 1)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Magenta;
                                                Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nDы наносите " + ultraSpellDamage + " урона в физическую броню. У врага осталось " + bossHealth + " здоровья, физической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nвы наносите " + ultraSpellDamage + " урона в физическую броню. У врага осталось еще " + physicalShield + " физической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (magicShield < 1 && physicalShield < 1 && bossHealth >= 1)
                                    {
                                        bossHealth -= ultraSpellDamage;

                                        if (bossHealth < 1)
                                        {
                                            Console.ForegroundColor = ConsoleColor.Magenta;
                                            Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.Magenta;
                                            Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < ultraSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                    break;
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nВЫ ПРОИЗНОСИТЕ ЧУШЬ И НЕ НАНОСИТЕ УРОНА!");
                                    Console.ResetColor();
                                }

                                break;
                            case "манум":

                                if (playerHealth > healthUpdate * ratioRecoverySkill)
                                {
                                    playerMana += manaUpdate;
                                    playerHealth -= Convert.ToInt32(healthUpdate * ratioRecoverySkill);

                                    Console.ForegroundColor = ConsoleColor.Blue;
                                    Console.WriteLine("\nВедьма шепчет заклинание, тратя на него здоровье, но чувствует мощный прилив маны.");
                                    Console.ResetColor();
                                }
                                else if (playerHealth <= healthUpdate * ratioRecoverySkill)
                                {
                                    Console.WriteLine("\nКоличество здоровья не позволяет вам прошептать заклинание!");
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nВЫ ПРОИЗНОСИТЕ ЧУШЬ И НИЧЕГО НЕ ПРОИСХОДИТ!");
                                    Console.ResetColor();
                                }
                                break;
                            case "выпить лекарство":

                                if (cureValue > 0)
                                {
                                    cureValue--;
                                    playerHealth = healthUpdate;
                                    canAttack = false;

                                    Console.ForegroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("\nВы открываете флакончик с ароматной красной жидкостью, быстро и жадно выпиваете до дна. Чувство прилива здоровья охватывает вас мгновенно");
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("\nВы рыщите по карманам, но флаконов с лекарством там нет!");
                                    Console.ResetColor();
                                }

                                break;
                            case "выпить зелье":

                                if (potionValue > 0)
                                {
                                    potionValue--;
                                    playerMana = manaUpdate;
                                    canAttack = false;

                                    Console.ForegroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("\nВы открываете флакончик с вонючей синей жидкостью, быстро и жадно выпиваете до дна. Чувство прилива маны охватывает вас мгновенно");
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("\nВы рыщите по карманам, но флаконов с зельем там нет!");
                                    Console.ResetColor();
                                }

                                break;
                            case "вдохнуть эссенцию":

                                if (essentionValue > 0)
                                {
                                    essentionValue--;
                                    playerShield = shieldUpdate;
                                    canAttack = false;

                                    Console.ForegroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("\nВы открываете флакончик с Божественной Эссенцией, быстро и жадно вдыхаете её пары. Чувство прилива Божественной брони охватывает вас мгновенно");
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("\nВы рыщите по карманам, но флаконов с эссенцией там нет!");
                                    Console.ResetColor();
                                }

                                break;
                            case "подсказка":
                                canAttack = false;

                                Console.WriteLine( "\n- Пожалуйста, " + namePlayer + ", не забывай свои заклинания и команды! Во время атаки произнеси :\n");                               
                                Console.WriteLine("увернуться \nвыпить лекарство \nвыпить зелье \nвдохнуть эссенцию " +
                                    " \nядолужиум - создать ядовитую лужу. Высокий физический урон. Затраты маны: " + highSpellMana + "" +
                                    " \nогний - бросить огненный шар. Низкий магический урон. Затраты маны: " + lowSpellMana);
                                Console.WriteLine("кобриум - призвать ядовитую змею. Высший физический урон. Затраты маны: " + highestSpellMana);
                                Console.WriteLine("лупий - призвать магическую лупу. Низший магический урон. Затраты маны: " + lowestSpellMana);
                                Console.WriteLine("поджечь ядовитую лужу магической лупой. Высочайший магический урон, дополнительный урон в физическую броню. Затраты маны:  " + lowestSpellMana + lowestSpellMana * ratioMixedMana);
                                Console.WriteLine("манум - сильная прибавка к мане. Значительно уменьшает количество твоего здоровья (-" + healthUpdate * ratioRecoverySkill + ")");
                                Console.WriteLine("огний + дэдливайперсмерчиум - призвать дух смертельной гадюки. Ультра урон. Затраты маны:  " + ultraSpellMana);                                 
                                break;
                            default:
                                Console.ForegroundColor = ConsoleColor.DarkRed;
                                Console.WriteLine("\nВЫ ПРОИЗНОСИТЕ ЧУШЬ И НЕ НАНОСИТЕ УРОНА!");
                                Console.ResetColor();
                                break;
                        }
                    }

                    Console.ForegroundColor = Console.BackgroundColor;
                    Console.ReadKey();
                    Console.ResetColor();
                    factorCritical = criticalUpdate;

                    if (canAttack == true)
                    {
                        if (bossHealth < 1)
                        {                                    
                            Console.WriteLine(nameBoss + " повержен");
                            Console.ForegroundColor = Console.BackgroundColor;
                            Console.ReadKey();
                            Console.ResetColor();
                            Console.Clear();
                            break;
                        }
                        else
                        {
                            Console.WriteLine("____________________________________________________________________________");
                            Console.WriteLine("\n\t\tАтака " + nameBoss + ": ");

                            rateCriticalMiss = random.Next(0, 11);
                            randomBossSkill = random.Next(0, 11);

                            if (randomBossSkill <= 5 && bossMana >= bossSkillMana)
                            {
                                randomBossSkill = random.Next(0, 2);

                                if (randomBossSkill == 0)
                                {
                                    bossSkillFireEnabled = true;
                                    bossMana -= bossSkillMana;
                                    playerMana = 0;
                                    playerShield = 0;
                                    Console.ForegroundColor = ConsoleColor.DarkBlue;
                                    Console.BackgroundColor = ConsoleColor.Cyan;
                                    Console.WriteLine(nameBoss + " тратя силы свей маны, изрыгает из своей пасти на вас шквал странного синего огня!\n Вы чувствуете потерю магической силы и брони... ");
                                    Console.ResetColor();
                                    Console.ForegroundColor = Console.BackgroundColor;
                                    Console.ReadKey();
                                    Console.ResetColor();
                                }
                                else
                                {
                                    bossMana -= bossSkillMana;
                                    bossSkillSnakesEnabled = true;
                                    Console.BackgroundColor = ConsoleColor.DarkGreen;
                                    Console.WriteLine(nameBoss + " тратя силы свей маны, призывает несколько змей которые обвивают все ваше тело");
                                    Console.ForegroundColor = Console.BackgroundColor;
                                    Console.ReadKey();
                                    Console.ResetColor();
                                }
                            }

                            if (rateCriticalMiss < 1 && playerCast != "увернуться" && bossSkillFireEnabled == false && bossSkillSnakesEnabled == false)
                            {
                                factorCritical = criticalDamage;
                                Console.ForegroundColor = ConsoleColor.DarkRed;
                                Console.WriteLine("Враг слышит зловещий шёпот внутри головы, преисполняется боевым духом и наносит критический удар!");
                                Console.ResetColor();
                            }
                            else if (rateCriticalMiss > 9 && playerCast != "увернуться" && bossSkillFireEnabled == false && bossSkillSnakesEnabled == false)
                            {
                                factorCritical = missDamage;
                                Console.ForegroundColor = ConsoleColor.DarkCyan;
                                Console.WriteLine("\tВраг слышит Божественный голос внутри головы, во время атаки руки становятся ватными, и он промахивается мимо вас!");
                                Console.ResetColor();
                            }
                            else if (playerCast == "увернуться" && rateCriticalMiss > 6)
                            {
                                factorCritical = missDamage;
                                Console.ForegroundColor = ConsoleColor.DarkCyan;
                                Console.WriteLine("\tУ вас получается увернуться от атаки врага!");
                                Console.ResetColor();
                            }
                            else if (playerCast == "увернуться" && rateCriticalMiss <= 6)
                            {
                                Console.ForegroundColor = ConsoleColor.DarkCyan;
                                Console.WriteLine("\tУ вас не получается увернуться от атаки врага!");
                                Console.ResetColor();

                                if (rateCriticalMiss < 1)
                                {
                                    factorCritical = criticalDamage;
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("Враг слышит зловещий шёпот внутри головы, преисполняется боевым духом и наносит критический удар!");
                                    Console.ResetColor();
                                }
                            }

                            randomDamage = random.Next(8, 13) / 10f;
                            bossDamage *= randomDamage;
                            bossDamage = Convert.ToInt32(bossDamage);
                            bossHealth = Convert.ToInt32(bossHealth);
                            magicShield = Convert.ToInt32(magicShield);
                            physicalShield = Convert.ToInt32(physicalShield);
                            playerHealth = Convert.ToInt32(playerHealth);
                            playerMana = Convert.ToInt32(playerMana);

                            if (playerShield >= 1 && bossSkillFireEnabled == false)
                            {
                                playerShield -= Convert.ToInt32(bossDamage);

                                if (playerShield < 1)
                                {
                                    playerHealth += playerShield;
                                    playerShield = 0;
                                    Console.ForegroundColor = ConsoleColor.Gray;
                                    Console.WriteLine("\nВам нанесёно " + bossDamage + " урона. У вас осталось " + playerHealth + " здоровья, Божественной брони больше нет!");
                                    Console.ResetColor();
                                }
                                else                               {
                                    Console.ForegroundColor = ConsoleColor.Gray;
                                    Console.WriteLine("\nВам нанесёно " + bossDamage + " урона по Божественной броне. У вас осталось " + playerHealth + " здоровья, " + playerShield + " Божественной брони.");
                                    Console.ResetColor();
                                }
                            }
                            else if (playerShield < 1 && playerHealth >= 1 && bossSkillFireEnabled == false)
                            {
                                playerHealth -= Convert.ToInt32(bossDamage);

                                if (playerHealth < 1)
                                {
                                    Console.ForegroundColor = ConsoleColor.Red;
                                    Console.WriteLine("\nвам нанесёнo " + bossDamage + " урона.\nВЫ УМЕРЛИ");
                                    Console.ForegroundColor = Console.BackgroundColor;
                                    Console.ReadKey();
                                    Console.ResetColor();
                                    break;
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.Red;
                                    Console.WriteLine("\nвам нанесёнo " + bossDamage + " урона. У вас осталось " + playerHealth + " здоровья");
                                    Console.ResetColor();
                                }
                            }

                            if (playerHealth < 1 && bossSkillFireEnabled == false)
                            {
                                Console.ForegroundColor = ConsoleColor.Red;
                                Console.WriteLine("\nвам нанесёнo " + bossDamage + " урона.\nВЫ УМЕРЛИ");
                                Console.ForegroundColor = Console.BackgroundColor;
                                Console.ReadKey();
                                Console.ResetColor();
                                break;
                            }

                            Console.WriteLine("____________________________________________________________________________");
                            Console.ForegroundColor = Console.BackgroundColor;
                            Console.ReadKey();
                            Console.ResetColor();
                        }
                    }
                }
            }
        }
    }

