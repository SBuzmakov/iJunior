using System;

namespace TheBossFight
{
    class Program
    {
        static void Main(string[] args)
        {
            Random random = new Random();
            string namePlayer = "";
            float playerHealth = 10000f;
            float playerDamage = 500f;
            float highestSpellDamage = 0f;
            float highSpellDamage = 0f;
            float lowestSpellDamage = 0f;
            float lowSpellDamage = 0f;
            float ultraSpellDamage = 0f;
            float lowestSpellMana = 50f;
            float highestSpellMana = 500f;
            float highSpellMana = 350f;
            float lowSpellMana = 100f;
            float ultraSpellMana = 4000f;
            float damageUpdate = playerDamage;
            float playerShield = 5000f;
            float playerMana = 5000f;
            float manaUpdate = playerMana;
            float ratioManaRecovery = 0.05f;
            float ratioHighestSpell = 1.9f;
            float ratioLowSpell = 0.9f;
            float ratioHighSpell = 1.25f;
            float ratioLowestSpell = 0.7f;
            float ratioUltra = 12f;
            float ratioMixedSpell = 6f;
            float ratioMixedMana = 15f;
            bool mixElementComboEnabled = false;
            bool ultraComboEnabled = false;
            string playerCast;
            bool canAttack = true;
            float bossHealth = 20000f;
            float bossDamage = 1000f;
            float magicShield = 10000f;
            float physicalShield = 10000f;
            float bossDamageUpdate = bossDamage;
            bool bossSkillSnakesEnabled = false;
            float bossMana = 5000f;
            float bossSkillMana = 1000f;
            float randomBossSkill = 0f;
            string nameBoss = "";
            int chanceBossSkill = 5;
            float manaRecovery = manaUpdate * ratioManaRecovery;
            float deadlyHealth = 0f;
            float minimalShield = 1f;
            int minimumRateRandom = 0;
            int maximumRateRandom = 11;

            Console.WriteLine("Ваши заклинания и команды:\n\n");
            Console.WriteLine("\nядолужиум - создать ядовитую лужу. Высокий физический урон. Затраты маны: " + highSpellMana + "" +
                            " \nогний - бросить огненный шар. Низкий магический урон. Затраты маны: " + lowSpellMana);
            Console.WriteLine("кобриум - призвать ядовитую змею. Высший физический урон. Затраты маны: " + highestSpellMana);
            Console.WriteLine("лупий - призвать магическую лупу. Низший магический урон. Затраты маны: " + lowestSpellMana);
            Console.WriteLine("поджечь ядовитую лужу магической лупой. Высочайший магический урон, дополнительный урон в физическую броню. Затраты маны:  " + lowestSpellMana + lowestSpellMana * ratioMixedMana);
            Console.WriteLine("огний + дэдливайперсмерчиум - призвать дух смертельной гадюки. Ультра урон. Затраты маны:  " + ultraSpellMana);
            
            while (namePlayer == "")
            {
                Console.WriteLine("\n\nКак тебя звать?");
                namePlayer = Console.ReadLine();
                Console.Clear();
            }

            while (nameBoss == "")
            {
                Console.WriteLine("\n\nКак зовут твоего врага?");
                nameBoss = Console.ReadLine();
                Console.Clear();
            }

            Console.Clear();
            Console.WriteLine("\n\t " + namePlayer + ", если во время схватки с врагом ты забудешь как действовать, то вместо заклинания произнеси \"подсказка\"!");
            Console.ForegroundColor = ConsoleColor.Green;
            Console.WriteLine("\n\n\n}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{");
            Console.WriteLine("\n\tВедьма " + namePlayer + ", " + playerHealth + " очков здоровья, " + playerMana + " маны, " + playerShield + " божественной брони.");
            Console.WriteLine("}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{}{");
            Console.ResetColor();
            Console.ForegroundColor = ConsoleColor.DarkMagenta;
            Console.WriteLine("\n\n\n#########################################################################################################");
            Console.WriteLine("\nНовая схватка с " + nameBoss + " с " + bossHealth + " здоровья. " + magicShield + " магической брони. " + physicalShield + " физической брони.");
            Console.ResetColor();

            for (int i = 0; bossHealth > deadlyHealth || playerHealth > deadlyHealth; i++)
                {
                    if (playerMana < manaUpdate && canAttack == true)
                    {
                        playerMana += manaRecovery;

                        if (playerMana > manaUpdate)
                        {
                            playerMana = manaUpdate;
                        }

                        Console.ForegroundColor = ConsoleColor.Blue;
                        Console.WriteLine("\n\n\nмана восстанавливается на " + manaRecovery);
                        Console.ResetColor();
                    }

                    canAttack = true;
                    playerDamage = damageUpdate;
                    bossDamage = bossDamageUpdate;
                    bossHealth = Convert.ToInt32(bossHealth);
                    magicShield = Convert.ToInt32(magicShield);
                    physicalShield = Convert.ToInt32(physicalShield);
                    magicShield = Convert.ToInt32(magicShield);
                    playerShield = Convert.ToInt32(playerShield);
                    highestSpellMana = Convert.ToInt32(highestSpellMana);
                    highSpellMana = Convert.ToInt32(highSpellMana);
                    lowestSpellMana = Convert.ToInt32(lowestSpellMana);
                    lowSpellMana = Convert.ToInt32(lowSpellMana);

                    Console.ForegroundColor = ConsoleColor.Blue;
                    Console.WriteLine("\n####АТАКА#" + (i + 1) + "##############################################################################################");
                    Console.WriteLine("\n " + namePlayer + ": " + playerHealth + " очков здоровья, " + playerMana + " маны, " + playerShield + " Божественной брони." +
                        "\nКаждый ход мана восстанавливается на " + manaUpdate * ratioManaRecovery +
                        " \n" + nameBoss + ": " + bossHealth + " здоровья. " + magicShield + " магической брони. " + physicalShield + " физической брони." + bossMana + " маны.");
                    Console.ResetColor();
                    Console.WriteLine("____________________________________________________________________________");
                    Console.WriteLine("\n\t\tВы атакуете , произнесите заклинание!");
                    Console.Write("\t");

                    Console.ForegroundColor = ConsoleColor.DarkGray;
                    playerCast = Console.ReadLine();
                    Console.ResetColor();

                    if (bossSkillSnakesEnabled)
                    {
                        bossSkillSnakesEnabled = false;
                        Console.ForegroundColor = ConsoleColor.DarkRed;
                        Console.WriteLine("Змеи, которых призвал " + nameBoss + ", обхватили вас своей мертвой хваткой, вы не можете ни вдохнуть , ни произнести заклинание!");
                        Console.ResetColor();
                    }
                    else
                    {

                        switch (playerCast)
                        {
                            case "кобриум":
                                ultraComboEnabled = false;
                                mixElementComboEnabled = false;
                                highestSpellDamage = playerDamage * ratioHighestSpell;
                                highestSpellDamage = Convert.ToInt32(highestSpellDamage);

                                if (playerMana >= highestSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkGreen;
                                    Console.WriteLine("\nВедьма поднимает руки вверх и между ними появляется зеленый светящийся шар, из которого на врага бросается большая" +
                                                " зеленая ядовитая змея!");
                                    Console.ResetColor();

                                    playerMana -= highestSpellMana;

                                    if (physicalShield >= minimalShield)
                                    {
                                        physicalShield -= highestSpellDamage;

                                        if (physicalShield < minimalShield)
                                        {
                                            bossHealth += physicalShield;
                                            physicalShield = 0;

                                            if (bossHealth <= deadlyHealth)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Green;
                                                Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья, физической брони " +
                                                "больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона по физической броне. У врага осталось еще " + physicalShield + " физической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (physicalShield < minimalShield && bossHealth > deadlyHealth)
                                    {
                                        bossHealth -= highestSpellDamage;

                                        if (bossHealth <= deadlyHealth)
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGreen;
                                            Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGreen;
                                            Console.WriteLine("\nВы наносите " + highestSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < highestSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                }

                                break;
                            case "огний":
                                ultraComboEnabled = true;
                                mixElementComboEnabled = false;
                                lowSpellDamage = playerDamage * ratioLowSpell;
                                lowSpellDamage = Convert.ToInt32(lowSpellDamage);

                                if (playerMana >= lowSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkYellow;
                                    Console.WriteLine("\nВедьма складывает руки ладонями перед собой и между ними появляется магический огненный шар, который она швыряет во врага и поджигает его!");
                                    Console.ResetColor();

                                    playerMana -= lowSpellMana;

                                    if (magicShield >= minimalShield)
                                    {
                                        magicShield -= lowSpellDamage;

                                        if (magicShield < minimalShield)
                                        {
                                            bossHealth += magicShield;
                                            magicShield = 0;

                                            if (bossHealth <= deadlyHealth)
                                            {
                                                Console.ForegroundColor = ConsoleColor.DarkYellow;
                                                Console.WriteLine("\nВы наносите " + lowSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + lowSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья, магической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + lowSpellDamage + " урона по магической броне. У врага осталось еще " + magicShield + " магической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (magicShield < minimalShield && bossHealth > deadlyHealth)
                                    {
                                        bossHealth -= lowSpellDamage;

                                        if (bossHealth <= deadlyHealth)
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkYellow;
                                            Console.WriteLine("\nВы наносите " + lowSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkYellow;
                                            Console.WriteLine("\nвы наносите " + lowSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < lowSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                }

                                break;
                            case "ядолужиум":
                                ultraComboEnabled = false;
                                mixElementComboEnabled = true;
                                highSpellDamage = playerDamage * ratioHighSpell;
                                highSpellDamage = Convert.ToInt32(highSpellDamage);

                                if (playerMana >= highSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.Green;
                                    Console.WriteLine("\nВедьма поднимает руки вверх и между ними появляется зеленый светящийся шар, он устремляется под врага " +
                                        "и образует булькающую отравляющую лужу");
                                    Console.ResetColor();

                                    playerMana -= highSpellMana;

                                    if (physicalShield >= minimalShield)
                                    {
                                        physicalShield -= highSpellDamage;

                                        if (physicalShield < minimalShield)
                                        {
                                            bossHealth += physicalShield;
                                            physicalShield = 0;

                                            if (bossHealth <= deadlyHealth)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Green;
                                                Console.WriteLine("\nВы наносите " + highSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + highSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья, физической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + highSpellDamage + " урона по физической броне. У врага осталось еще " + physicalShield + " физической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (physicalShield < minimalShield && bossHealth > deadlyHealth)
                                    {
                                        bossHealth -= highSpellDamage;

                                        if (bossHealth <= deadlyHealth)
                                        {
                                            Console.ForegroundColor = ConsoleColor.Green;
                                            Console.WriteLine("\nВы наносите " + highSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.Green;
                                            Console.WriteLine("\nВы наносите " + highSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < highSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                }

                                break;
                            case "лупий":
                                ultraComboEnabled = false;
                                lowestSpellDamage = playerDamage * ratioLowestSpell;
                                lowestSpellDamage = Convert.ToInt32(lowestSpellDamage);

                                if (playerMana >= lowestSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.Yellow;
                                    Console.WriteLine("\nВедьма складывает руки ладонями перед собой, пока шепчет заклинание. Пространство над ней начинает искриться и возникает гигантское круглое стекло," +
                                        "которое с помощью лучей солнца поджигает врага!");
                                    Console.ResetColor();

                                    if (mixElementComboEnabled == true)
                                    {
                                        mixElementComboEnabled = false;
                                        lowestSpellDamage *= ratioMixedSpell;
                                        lowestSpellMana *= ratioMixedMana;
                                        lowestSpellDamage = Convert.ToInt32(lowestSpellDamage);
                                        lowestSpellMana = Convert.ToInt32(lowestSpellMana);

                                        if (playerMana < lowestSpellMana)
                                        {
                                            lowestSpellMana /= ratioMixedMana;
                                            Console.ForegroundColor = ConsoleColor.DarkRed;
                                            Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА МИКСОВАННОЕ ЗАКЛИНАНИЕ!");
                                            Console.ResetColor();
                                            break;
                                        }

                                        playerMana -= lowestSpellMana;
                                        lowestSpellMana /= ratioMixedMana;

                                        Console.BackgroundColor = ConsoleColor.DarkGreen;
                                        Console.ForegroundColor = ConsoleColor.DarkYellow;
                                        Console.WriteLine("Лучи солнца, проходящие через гигантское стекло, поджигают еще оставшуюся ядовитую лужу, происходит мощный взрыв!");
                                        Console.BackgroundColor = ConsoleColor.DarkRed;
                                        Console.WriteLine("");
                                        Console.BackgroundColor = ConsoleColor.DarkYellow;
                                        Console.WriteLine("");
                                        Console.BackgroundColor = ConsoleColor.DarkRed;
                                        Console.WriteLine("");
                                        Console.ResetColor();

                                        physicalShield -= lowestSpellDamage;

                                        Console.ForegroundColor = ConsoleColor.DarkGray;
                                        Console.WriteLine("\nВы наносите дополнительный " + lowestSpellDamage + " урон в физическую броню!");
                                        Console.ResetColor();

                                        if (physicalShield < minimalShield)
                                        {
                                            physicalShield = 0;
                                        }

                                    }

                                    playerMana -= lowestSpellMana;
                                    lowestSpellMana /= ratioMixedMana;

                                    if (magicShield >= minimalShield)
                                    {
                                        magicShield -= lowestSpellDamage;

                                        if (magicShield < minimalShield)
                                        {
                                            bossHealth += magicShield;
                                            magicShield = 0;

                                            if (bossHealth <= deadlyHealth)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Yellow;
                                                Console.WriteLine("\nВы наносите " + lowestSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + lowestSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья, магической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + lowestSpellDamage + " урона по магической броне. У врага осталось еще " + magicShield + " магической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (magicShield < minimalShield && bossHealth > deadlyHealth)
                                    {
                                        bossHealth -= lowestSpellDamage;

                                        if (bossHealth <= deadlyHealth)
                                        {
                                            Console.ForegroundColor = ConsoleColor.Yellow;
                                            Console.WriteLine("\nВы наносите " + lowestSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else 
                                        {
                                            Console.ForegroundColor = ConsoleColor.Yellow;
                                            Console.WriteLine("\nвы наносите " + lowestSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < lowestSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                }

                                break;
                            case "дэдливайперсмерчиум":
                                mixElementComboEnabled = false;

                                if (ultraComboEnabled == true && playerMana >= ultraSpellMana)
                                {
                                    playerMana -= ultraSpellMana;
                                    ultraSpellDamage = playerDamage * ratioUltra;
                                    ultraSpellDamage = Convert.ToInt32(ultraSpellDamage);

                                    Console.BackgroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("");
                                    Console.ForegroundColor = ConsoleColor.Magenta;
                                    Console.WriteLine("");
                                    Console.BackgroundColor = ConsoleColor.DarkYellow;
                                    Console.WriteLine("После яростного крика ведьмы, начинает дуть сильнейший ветер. Над врагом появляется исполинского размера дух гадюки " +
                                        "фиолетового цвета. Дотлевающие угольки Огния вспыхивают в мощном огненном смерче!");
                                    Console.BackgroundColor = ConsoleColor.Green;
                                    Console.WriteLine("");
                                    Console.BackgroundColor = ConsoleColor.DarkYellow;
                                    Console.WriteLine("");
                                    Console.BackgroundColor = ConsoleColor.Green;
                                    Console.WriteLine("");
                                    Console.ResetColor();

                                    if (magicShield >= minimalShield)
                                    {
                                        magicShield -= ultraSpellDamage;

                                        if (magicShield < minimalShield)
                                        {
                                            bossHealth += magicShield;
                                            magicShield = 0;

                                            if (bossHealth <= deadlyHealth)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Magenta;
                                                Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона в магическую броню. У врага осталось " + bossHealth + " здоровья, магической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона по магической броне. У врага осталось еще " + magicShield + " магической брони");
                                            Console.ResetColor();
                                        }
                                    }

                                    if (physicalShield >= minimalShield)
                                    {
                                        physicalShield -= ultraSpellDamage;

                                        if (physicalShield < minimalShield)
                                        {
                                            bossHealth += physicalShield;
                                            physicalShield = 0;

                                            if (bossHealth <= deadlyHealth)
                                            {
                                                Console.ForegroundColor = ConsoleColor.Magenta;
                                                Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                                Console.ResetColor();
                                                break;
                                            }

                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nDы наносите " + ultraSpellDamage + " урона в физическую броню. У врага осталось " + bossHealth + " здоровья, физической брони больше нет!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.DarkGray;
                                            Console.WriteLine("\nвы наносите " + ultraSpellDamage + " урона в физическую броню. У врага осталось еще " + physicalShield + " физической брони");
                                            Console.ResetColor();
                                        }
                                    }
                                    else if (magicShield < minimalShield && physicalShield < minimalShield && bossHealth > deadlyHealth)
                                    {
                                        bossHealth -= ultraSpellDamage;

                                        if (bossHealth <= deadlyHealth)
                                        {
                                            Console.ForegroundColor = ConsoleColor.Magenta;
                                            Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона.\nВЫ НАНОСИТЕ СМЕРТЕЛЬНЫЙ УДАР!!");
                                            Console.ResetColor();
                                            break;
                                        }
                                        else
                                        {
                                            Console.ForegroundColor = ConsoleColor.Magenta;
                                            Console.WriteLine("\nВы наносите " + ultraSpellDamage + " урона. У врага осталось " + bossHealth + " здоровья");
                                            Console.ResetColor();
                                        }
                                    }
                                }
                                else if (playerMana < ultraSpellMana)
                                {
                                    Console.ForegroundColor = ConsoleColor.DarkRed;
                                    Console.WriteLine("\nНЕ ХВАТАЕТ МАНЫ НА ЗАКЛИНАНИЕ!");
                                    Console.ResetColor();
                                    break;
                                }

                                break;
                            case "подсказка":
                                canAttack = false;

                                Console.WriteLine( "\n- Пожалуйста, " + namePlayer + ", не забывай свои заклинания и команды! Во время атаки произнеси :\n");                               
                                Console.WriteLine(" \nядолужиум - создать ядовитую лужу. Высокий физический урон. Затраты маны: " + highSpellMana + "" +
                                    " \nогний - бросить огненный шар. Низкий магический урон. Затраты маны: " + lowSpellMana);
                                Console.WriteLine("кобриум - призвать ядовитую змею. Высший физический урон. Затраты маны: " + highestSpellMana);
                                Console.WriteLine("лупий - призвать магическую лупу. Низший магический урон. Затраты маны: " + lowestSpellMana);
                                Console.WriteLine("поджечь ядовитую лужу магической лупой. Высочайший магический урон, дополнительный урон в физическую броню. Затраты маны:  " + lowestSpellMana + lowestSpellMana * ratioMixedMana);
                                Console.WriteLine("огний + дэдливайперсмерчиум - призвать дух смертельной гадюки. Ультра урон. Затраты маны:  " + ultraSpellMana);                                 
                                break;
                            default:
                                Console.ForegroundColor = ConsoleColor.DarkRed;
                                Console.WriteLine("\nВЫ ПРОИЗНОСИТЕ ЧУШЬ И НЕ НАНОСИТЕ УРОНА!");
                                Console.ResetColor();
                                break;
                        }
                    }

                    Console.ForegroundColor = Console.BackgroundColor;
                    Console.ReadKey();
                    Console.ResetColor();

                    if (canAttack == true)
                    {
                        if (bossHealth <= deadlyHealth)
                        {                                    
                            Console.WriteLine(nameBoss + " повержен");
                            Console.ForegroundColor = Console.BackgroundColor;
                            Console.ReadKey();
                            Console.ResetColor();
                            Console.Clear();
                            break;
                        }
                        else
                        {
                            Console.WriteLine("____________________________________________________________________________");
                            Console.WriteLine("\n\t\tАтака " + nameBoss + ": ");

                            randomBossSkill = random.Next(minimumRateRandom, maximumRateRandom);

                            if (randomBossSkill <= chanceBossSkill && bossMana >= bossSkillMana)
                            {
                                bossMana -= bossSkillMana;
                                bossSkillSnakesEnabled = true;
                                Console.BackgroundColor = ConsoleColor.DarkGreen;
                                Console.WriteLine(nameBoss + " тратя силы свей маны, призывает несколько змей которые обвивают все ваше тело");
                                Console.ForegroundColor = Console.BackgroundColor;
                                Console.ReadKey();
                                Console.ResetColor();
                            }

                            bossDamage = Convert.ToInt32(bossDamage);
                            bossHealth = Convert.ToInt32(bossHealth);
                            magicShield = Convert.ToInt32(magicShield);
                            physicalShield = Convert.ToInt32(physicalShield);
                            playerHealth = Convert.ToInt32(playerHealth);
                            playerMana = Convert.ToInt32(playerMana);

                            if (playerShield >= minimalShield)
                            {
                                playerShield -= Convert.ToInt32(bossDamage);

                                if (playerShield < minimalShield)
                                {
                                    playerHealth += playerShield;
                                    playerShield = 0;
                                    Console.ForegroundColor = ConsoleColor.Gray;
                                    Console.WriteLine("\nВам нанесёно " + bossDamage + " урона. У вас осталось " + playerHealth + " здоровья, Божественной брони больше нет!");
                                    Console.ResetColor();
                                }
                                else                               {
                                    Console.ForegroundColor = ConsoleColor.Gray;
                                    Console.WriteLine("\nВам нанесёно " + bossDamage + " урона по Божественной броне. У вас осталось " + playerHealth + " здоровья, " + playerShield + " Божественной брони.");
                                    Console.ResetColor();
                                }
                            }
                            else if (playerShield < minimalShield && playerHealth > deadlyHealth)
                            {
                                playerHealth -= Convert.ToInt32(bossDamage);

                                if (playerHealth <= deadlyHealth)
                                {
                                    Console.ForegroundColor = ConsoleColor.Red;
                                    Console.WriteLine("\nвам нанесёнo " + bossDamage + " урона.\nВЫ УМЕРЛИ");
                                    Console.ForegroundColor = Console.BackgroundColor;
                                    Console.ReadKey();
                                    Console.ResetColor();
                                    break;
                                }
                                else
                                {
                                    Console.ForegroundColor = ConsoleColor.Red;
                                    Console.WriteLine("\nвам нанесёнo " + bossDamage + " урона. У вас осталось " + playerHealth + " здоровья");
                                    Console.ResetColor();
                                }
                            }

                            if (playerHealth <= deadlyHealth)
                            {
                                Console.ForegroundColor = ConsoleColor.Red;
                                Console.WriteLine("\nвам нанесёнo " + bossDamage + " урона.\nВЫ УМЕРЛИ");
                                Console.ForegroundColor = Console.BackgroundColor;
                                Console.ReadKey();
                                Console.ResetColor();
                                break;
                            }

                            Console.WriteLine("____________________________________________________________________________");
                            Console.ForegroundColor = Console.BackgroundColor;
                            Console.ReadKey();
                            Console.ResetColor();
                        }
                    }
                }

            Console.ForegroundColor = Console.BackgroundColor;
            Console.ReadKey();
            Console.ResetColor();
            Console.Clear();

            if (playerHealth <= deadlyHealth)
            {
                Console.WriteLine("вы проиграли");
            }
            else
            {
                Console.WriteLine("вы выиграли");
            }
        }
    }
}

