namespace Collections_4
{
    internal class Program
    {
        static void Main(string[] args)
        {
            const string ExitCommand = "1";
            const string AddDossierCommand = "2";
            const string DeleteDossierCommand = "3";
            const string ShowAllDossiersCommand = "4";

            Dictionary<string, string> dossiers = new Dictionary<string, string>();

            bool isWork = true;

            while (isWork)
            {
                Console.WriteLine($"enter number of command:\n{ExitCommand} - exit\n{AddDossierCommand} - add dossier\n{DeleteDossierCommand} - delete dossier" +
                    $"\n{ShowAllDossiersCommand} - show all dossiers");

                string userInput = Console.ReadLine();

                switch(userInput)
                {
                    case ExitCommand:
                        isWork = false;
                        break;

                    case AddDossierCommand:
                        AddDossier(dossiers);
                        break;

                    case DeleteDossierCommand:
                        DeleteDossier(dossiers);
                        break;

                    case ShowAllDossiersCommand:
                        ShowAllDossiers(dossiers);
                        break;

                    default:
                        Console.WriteLine("enter correct command");
                        break;
                }   
                
                Console.ReadLine();
                Console.Clear();
            }

            static string EnterDossierFullname()
            {
                Console.Write("Enter the full name: ");
                string fullName = Console.ReadLine();
                return fullName;
            }

            static string EnterDossierPosition()
            {
                Console.Write("Enter the position: ");
                string position = Console.ReadLine();
                return position;
            }

            static void AddDossier(Dictionary<string, string> dossiers)
            {
                bool canAddDossier = true;

                Console.WriteLine("Adding a dossier.");

                string fullName = EnterDossierFullname();

                CheckExistingName(dossiers, fullName, ref canAddDossier);

                if (canAddDossier)
                {
                    string employeePosition = EnterDossierPosition();

                    dossiers.Add(fullName, employeePosition);              
                }
                else
                {
                    Console.WriteLine("This name already exists");
                }
            }

            static void DeleteDossier(Dictionary<string, string> dossiers)
            {
                Console.WriteLine("Deleting a dossier.");

                string fullName = EnterDossierFullname();

                dossiers.Remove(fullName);
            }

            static void CheckExistingName(Dictionary<string, string> dossiers, string fullNameInput, ref bool canAddDossier)
            {
                foreach (var name in dossiers)
                {
                    if(name.Key == fullNameInput)
                    {
                        canAddDossier = false;
                        break;
                    }
                }
            }

            static void ShowAllDossiers(Dictionary<string, string> dossiers)
            {
                foreach (var fullName in dossiers)
                {
                    Console.WriteLine($"{fullName.Key} - {fullName.Value}");
                }

                Console.ReadLine();
            }
        }
    }
}
