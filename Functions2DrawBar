using System;

namespace ConsoleApp6
{
    class Program
    {
        static void Main(string[] args)
        {
            int lifeValue = 100;
            int maxLife = 100;
            bool isLive = true;
            Random random = new Random();

            while (isLive)
            {
                int randomDamage = random.Next(1, 50);
                DrawBar(0, 0, lifeValue, maxLife, ConsoleColor.Red, ConsoleColor.DarkGray);
                Console.WriteLine("Push enter to be less healthy.");
                lifeValue -= randomDamage;
                Console.ReadLine();
                Console.Clear();

                if(lifeValue <= 0)
                {
                    isLive = false;
                    DrawBar(0, 0, 0, maxLife, ConsoleColor.Red, ConsoleColor.DarkGray);
                    Console.WriteLine("You died");
                    Console.ReadLine();
                    Console.Clear();
                }
            }

            Console.WriteLine("game over.");
        }

        static void DrawBar(int positionX, int positionY, int value, int maxValue, ConsoleColor colorValue, ConsoleColor colorEmpty)
        {
            string bar = "";
            string emptyBar = "";           

            for (int i = 0; i < value; i++)
            {
                bar += " ";
            }

            for(int i = value; i < maxValue; i++)
            {
                emptyBar += " ";
            }

            Console.SetCursorPosition(positionX, positionY);
            Console.BackgroundColor = colorValue;
            Console.Write(bar);
            Console.BackgroundColor = colorEmpty;
            Console.WriteLine(emptyBar);
            Console.ResetColor();
        }
    }
}
